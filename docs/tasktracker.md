# Task Tracker

Отслеживание статуса выполнения задач проекта.

## Задача: Инициализация проекта и настройка Backend

- **Статус**: Завершена
- **Описание**: Создание базовой структуры проекта, настройка backend с NestJS, Prisma и PostgreSQL
- **Шаги выполнения**:
  - [x] Инициализация Git репозитория
  - [x] Создание базовой структуры папок
  - [x] Настройка Docker Compose для PostgreSQL
  - [x] Создание базовой документации
  - [x] Инициализация NestJS проекта
  - [x] Настройка Prisma ORM (v7 с adapter)
  - [x] Создание базовой схемы БД (User, Workspace, WorkspaceUser)
  - [x] Создание модуля Users (Controller, Service, DTO)
  - [x] Настройка валидации данных
  - [x] Тестирование API endpoints
- **Зависимости**: Нет

## Задача: Безопасность и хэширование паролей

- **Статус**: Завершена
- **Описание**: Добавление хэширования паролей с помощью bcrypt для безопасности
- **Шаги выполнения**:
  - [x] Установка bcrypt
  - [x] Создание утилиты для хэширования паролей
  - [x] Обновление UsersService для хэширования при создании
  - [x] Обновление UsersService для хэширования при обновлении пароля
  - [x] Тестирование
- **Зависимости**: Модуль Users должен быть готов

## Задача: Аутентификация и авторизация (JWT)

- **Статус**: Завершена
- **Описание**: Добавление системы аутентификации с JWT токенами для защиты API
- **Шаги выполнения**:
  - [x] Установка зависимостей (@nestjs/jwt, @nestjs/passport, passport, passport-jwt)
  - [x] Создание модуля Auth
  - [x] Создание DTO для login (LoginDto)
  - [x] Создание AuthService (методы login, validateUser)
  - [x] Настройка JWT модуля (JwtModule)
  - [x] Создание JWT стратегии (JwtStrategy)
  - [x] Создание AuthController (endpoint POST /auth/login)
  - [x] Создание JWT Guard для защиты endpoints
  - [x] Создание декоратора @CurrentUser для получения текущего пользователя
  - [x] Защита endpoints Users (добавить @UseGuards(JwtAuthGuard))
  - [x] Типизация всех компонентов (убраны any, as)
  - [x] Тестирование через Postman
- **Зависимости**: Модуль Users и хэширование паролей

## Задача: Модуль Workspaces

- **Статус**: Завершена
- **Описание**: Создание модуля для управления рабочими пространствами (строительными проектами)
- **Шаги выполнения**:
  - [x] Создание WorkspacesController (CRUD endpoints)
  - [x] Создание WorkspacesService (бизнес-логика)
  - [x] Создание DTO для Workspace (CreateWorkspaceDto, UpdateWorkspaceDto)
  - [x] Реализация связи с пользователями (WorkspaceUser)
  - [x] Добавление проверки прав доступа (роли)
  - [x] Тестирование API endpoints
  - [x] Добавление Swagger документации
- **Зависимости**: Модуль Auth и Users

## Задача: Swagger документация

- **Статус**: Завершена
- **Описание**: Настройка Swagger для интерактивной документации и тестирования API
- **Шаги выполнения**:
  - [x] Установка @nestjs/swagger
  - [x] Настройка SwaggerModule в main.ts
  - [x] Добавление декораторов к контроллерам (@ApiTags, @ApiOperation, @ApiResponse)
  - [x] Добавление декораторов к DTO (@ApiProperty)
  - [x] Настройка JWT авторизации в Swagger
  - [x] Тестирование в Swagger UI
- **Зависимости**: Все модули должны быть готовы

## Задача: Refresh Token и Logout

- **Статус**: Завершена
- **Описание**: Добавление refresh token механизма и logout функциональности
- **Шаги выполнения**:
  - [x] Добавление поля refreshToken в модель User
  - [x] Обновление AuthService для генерации refresh token
  - [x] Создание метода refresh() для обновления access token
  - [x] Создание метода logout() для удаления refresh token
  - [x] Добавление endpoints POST /auth/refresh и POST /auth/logout
  - [x] Обновление типов и DTO
  - [x] Исправление HTTP кодов ошибок (401 вместо 500)
- **Зависимости**: Модуль Auth

## Задача: AdminJS интеграция

- **Статус**: Не начата
- **Описание**: Добавление AdminJS для управления пользователями и данными через веб-интерфейс
- **Шаги выполнения**:
  - [ ] Установка @adminjs/nestjs и зависимостей
  - [ ] Настройка AdminJS модуля
  - [ ] Конфигурация ресурсов (User, Workspace)
  - [ ] Настройка аутентификации в AdminJS
  - [ ] Настройка прав доступа по ролям
  - [ ] Тестирование
- **Зависимости**: Модуль Auth и Users

## Задача: Инициализация Frontend

- **Статус**: Не начата
- **Описание**: Создание React приложения с TypeScript и настройка базовой структуры
- **Шаги выполнения**:
  - [ ] Инициализация React проекта
  - [ ] Настройка TypeScript
  - [ ] Настройка TanStack Router
  - [ ] Настройка TanStack Query
  - [ ] Настройка Zustand
  - [ ] Настройка Tailwind CSS и ShadCN
  - [ ] Создание базовой структуры FSD
  - [ ] Настройка API клиента
- **Зависимости**: Backend API должен быть готов


