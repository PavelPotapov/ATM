---
description: Общие правила разработки, документации и коммуникации для всего проекта
globs:
  - "**/*"
alwaysApply: true
---

# Общие правила проекта

Ты мой помощник в разработке программного обеспечения. Твоя основная задача — не только писать качественный код, но и тщательно документировать весь процесс разработки, позволяя мне отслеживать прогресс и контролировать результаты на каждом этапе.

Проект организован как монорепозиторий с двумя основными частями:

- frontend/ — фронтенд-приложение (React, FSD).
- backend/ — бэкенд-приложение (NestJS/Node или другая выбранная технология).

## Документирование процесса (общая дока)

Документируй каждый значительный шаг в разработке в следующих файлах:

- /docs/changelog.md — хронологический журнал всех изменений.
- /docs/tasktracker.md — статус выполнения задач с описанием.
- /docs/project.md — общая архитектура и обзор проекта.

### Формат changelog.md

Используй Markdown-формат:

## [YYYY-MM-DD] - Краткое описание изменений

### Добавлено
- Описание новых функций

### Изменено
- Описание модификаций

### Исправлено
- Описание исправлений

### Формат tasktracker.md

## Задача: [Название задачи]
- **Статус**: [Не начата/В процессе/Завершена]
- **Описание**: [Детальное описание]
- **Шаги выполнения**:
  - [x] Завершённый шаг
  - [ ] Текущий шаг
  - [ ] Запланированный шаг
- **Зависимости**: [Связи с другими задачами]

## Документация модулей (локальная дока)

Для каждого модуля фронтенда и бэкенда веди локальную документацию рядом с кодом:

- frontend/src/modules/{moduleName}/docs/README.md
- backend/src/modules/{moduleName}/docs/README.md

Если модуль ещё не имеет папки docs, сначала создай её и базовый README.md.

### Формат README модуля

Минимальная структура файла docs/README.md для модуля:

# [Имя модуля]

## Назначение
Коротко опиши, за что отвечает модуль и в каком контексте используется.

## Публичный API
- Экспортируемые сущности (компоненты, сервисы, хелперы, типы).
- Входные/выходные данные, основные сценарии использования.

## Внутреннее устройство
- Основные директории и файлы (ui/, model/, lib/ и т.д. для фронта; application/, domain/, infrastructure/ для бэка).
- Важные зависимости от других модулей.

## Точки интеграции
- Где и как модуль используется в системе (страницы, другие модули, внешние сервисы).

## Известные ограничения и TODO
- Технический долг, запланированные улучшения.

### Связь общей и модульной документации

После реализации нового функционала:

1. Обнови локальный docs/README.md соответствующего модуля (frontend или backend).
2. При значимых архитектурных изменениях обнови /docs/project.md.
3. Зафиксируй изменения в /docs/changelog.md.
4. При необходимости обнови /docs/tasktracker.md по соответствующей задаче.

## Структура модулей

Фронтенд (пример):

frontend/src/modules/{moduleName}/
  ui/
  model/
  lib/
  docs/
    README.md

Бэкенд (пример):

backend/src/modules/{moduleName}/
  application/
  domain/
  infrastructure/
  docs/
    README.md

## Процесс разработки

- Перед началом каждого нового шага спрашивай моего подтверждения.
- После каждого шага предоставляй краткое резюме изменений (не более 5 пунктов).
- При возникновении технических проблем или неоднозначностей предлагай 2–3 альтернативных подхода.
- Всегда сохраняй контекст текущей задачи и общую цель проекта.
- Периодически напоминай о текущем статусе задачи и оставшихся шагах.
- Следуй архитектурным решениям и стандартам, описанным в /docs/project.md и в документации модулей.
- Соблюдай принципы SOLID, KISS, DRY.
- Проводите code review для всех изменений.
- Используйте единый стиль кодирования (линтеры, pre-commit hooks).
- Не оставляйте неиспользуемый код и комментарии.

## Документирование кода и структуры

При создании нового файла добавляй в его начало JSDoc-блок:

/**
 * @file: [имя файла]
 * @description: [краткое описание]
 * @dependencies: [связанные компоненты/файлы]
 * @created: [дата]
 */

После реализации нового функционала актуализируй:

- локальный docs/README.md модуля (frontend/backend);
- при необходимости /docs/project.md;
- обязательно /docs/changelog.md и /docs/tasktracker.md для задач.

Поддерживай актуальную документацию API и интерфейсов (REST/GraphQL/contract-тесты и т.п.).

## Коммуникация

- Если ты не уверен в требованиях или направлении разработки, задавай конкретные вопросы.
- При предложении нескольких вариантов реализации чётко объясняй преимущества и недостатки каждого.
- Если задача кажется слишком объёмной, предлагай разбить её на подзадачи.
- В конце каждой сессии представляй краткий отчёт о достигнутом прогрессе и планах на следующую сессию.

При любых изменениях в проекте сначала актуализируй соответствующую документацию (модульную и/или общую), а затем приступай к следующему шагу разработки. Это позволяет избежать потери контекста и обеспечивает более последовательный и контролируемый процесс разработки.
