окей, круто, сейчас я хочу начать интеграцию новых сущностей.

на данный момент на беке есть workspaces, из чего он будет состоять:

Он состоит из тз проекта, тз проекта - это смета, смета может быть загружена в виде pfd или xlsx файла, в будущем будем писать для нее парсер, на данном этапе будем создавать смету вручную создавая столбцы таблицы и заполняя их данными из сметы ручками. 

далее эту смету надо будет отображать в виде таблицы (ну которую мы пока что сами будем заполнять и создавать новые столбцы в будущем надо будет) в этих столбцах будет указываться какая-то дополнительная информация например сколько потрачено, процент использования и тд тп. то есть будет базовый каркас состоящий условно из 6-12 столбцов согласно смете + новые столбцы по желанию добавляемые пользователями системы в зависимости от роли и функциональных возможностей пользователя. Причем для некоторых ячеек этих столбцов будут доступны формулы (типа редактируем данные в одной ячейке и это влияет на значения в другой), в будущем хочу добавить через вебсокеты совместное редактирование таблицы, например отображение курсора другого пользователя который в данный момент редактирует ячейку и тд тп. 

Давай сначала возьмем бекенд часть и добавим наверное новый модуль для работы со сметами (тз). У сметы как я ранее писал есть корень данных, главный источник, это опредленные столбцы, для разнеых проектов они разные, по идее мы будем в будущем получать их из парсинга pdf/xlsx сметы, но на данном этапе можно попробовать задавать и забивать их вручну.

Например
п/п	(порядковый номер детали/материала в смете как я понимаю, 1,2,3,40 и тд)				
КС-6а (не знаю что в предметной области это значит, вижу, что иногда может быть пустым, значения такого вида: 2о, 3о, 34о и тд)
Поз. Спец. (не знаю что это возможно номер товара в смете какой-то, значения вида: 1, 1.1, 2, 2.9 и тд в теории могут быть пустыми)
СИСТЕМА (вид значений: кондиционирование, вентиляция и тд, в теории могут быть пустыми)
ПРИНАДЛЕЖНОСТЬ РЕСУРСА (вид значений: система общеобменной вентиляции ИБП, фитинг, система аварийной вентиляции холодоцентра, в теории могут быть пустыми)
Наименование и техническая характеристика (вид значений: Переход стальной, Прямой разъемный сгон Ду65 (Вн-Вн), Изоляция трубная каучук. S=40mm 40X057, Водный раствор этиленгликоля 45% и тд)
Тип, марка (вид значений: BVR-DR, Ду100, Ду80, Ø89x3.5 и тд, в теории могут быть пустыми)
Код продукции (вид значений: ГОСТ 12820-80, ГОСТ 17378-2001 и тд, в теории могут быть пустыми)
Поставщик (вид значений: РФ, Экопром, ВЕЛЕСГАРД, K-Flex, Soudal)

далее обычно создается столбец по типу Ед. изм (вид значений: шт., м, рул., м3, м, м2, л, уп., в теории может быть пустым либо иметь еще и другие значения)
далее создают столбец кол-по по смете (вид значений обычно число)

далее создаются доп столбцы, например кол-во ПО ФАКТУ, или кол-во ПО ПД
остатки и тд тп.

По сути это чем-то напоминает систему инвентаризации, есть ТЗ - это условно говоря смета, сколько чего надо на проект, единицы измерения, коды, поставщик и тд, далее пользователи системы заносят эти данные в систему проекта, заполняют ОСНОВУ, далее начинают создать доп столбцы с расчетами. 

Система должна быть гибкой, масштабируемой, чтобы она подходила под любой вид строительства, мне кажется, что надо предоставить возможность для проекта СНАЧАЛА создать столбцы необходимые для базы, для основы, далее в этих столбцах указать едининцы измерения, которые будут использовать, например можно сказать, что в этом столбцы будут только числа и он не может быть пустым, а в этом столбце (например единицы измерения могут быть только метры и метры квдратные м, м2) и тд, то есть при создании проекта мы будем с фронта для начала создавать КАРКАС ТАБЛИЦЫ. В будущем это будет делать парсер, он будет персить смету и определять какие столбцы необходимы и какие значения хранятся в столбцах, но пока так. 

Далее надо будет иметь возможность по необходимости добавлять новые столбцы и для ячеек таблицы иметь историю ее изменений, то есть знать кто когда и почему ее редактировал. 

Далее мы будем развивать этот функционал, например нам на наш проект привезли смету. мол такой-то такой-то прозводитель поставил по пд номер такой-то такой-то такие-то такие-то материалы таких-то таких-то номер согласно смете и мы будем загружать а будет автоматически заполнять столбце с данными, но это в будущем, сейчас пока я хочу построить каркас, каркас тз (сметы) универсальный с возможностью масштабирования в будущем. 

Чем-то этот проект напоминает систему контроля материалов на складе, у нас есть смета на проект -> мы как-то ее цифровизировали, создали проект сами ручкамии или загрузили пдф или xlsx, создалась базовая смета, далее менеджеры начинают создавать новые столбцы связывая данные со значениями в этой смете, формирую формулы, работники указывают сколько и чего и когда он потратили, менеджеры будут загружать пд (что к ним сегодня приехало какой материал и сколько и это автоматически будет сопоставляться с базовой сметой, вычислять и тд тп)это в будущем, сейчас формирует возможность создания базовой сметы для проекта. Сначала я так полагаю это надо сделать на бекенде, потом на фронте будем думать, как мы будем это создавать, скорее всего будет два режима, режим ручного создания и режим парсинга файла (это потом, пока ручное создание)

